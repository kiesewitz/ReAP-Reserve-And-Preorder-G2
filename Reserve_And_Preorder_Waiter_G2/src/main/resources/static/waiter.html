<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <title>Kellner â€“ Ãœbersicht</title>

    <!-- Verweis auf das ausgelagerte Stylesheet im selben Verzeichnis -->
    <link rel="stylesheet" href="waiter.css">
    <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
<header>Kellner â€“ Tische & Bestellungen (Auto-Refresh: 5 Sek.)</header>

<div class="container grid">
    <!-- Tische -->
    <section class="card">
        <h2>Tische</h2>
        <div class="toolbar">
            <input id="q" type="search" placeholder="Suche Tisch / Bestellung / Itemâ€¦" />
            <button id="refreshBtn" class="btn-gray">â†» Aktualisieren</button>
        </div>
        <div id="tables" class="table-grid"></div>
    </section>

    <!-- Bestellungen -->
    <section class="card">
        <h2>Offene Bestellungen</h2>
        <div id="orders"></div>
    </section>
</div>

<!-- Modal fÃ¼r Bestellung aufnehmen -->
<div id="orderModal" class="modal-overlay" style="display:none;">
    <div class="modal">
        <div class="modal-header">
            <h3 id="orderModalTitle">Bestellung aufnehmen</h3>
            <button class="modal-close" onclick="closeOrderModal()">&times;</button>
        </div>
        <div class="modal-body">
            <div id="orderItemsList"></div>
            <div class="add-item-row">
                <input type="text" id="newItemName" placeholder="Artikel (z.B. Pizza Margherita)" />
                <input type="number" id="newItemQty" placeholder="Menge" min="1" value="1" />
                <button class="btn-blue" onclick="addOrderItem()">+ HinzufÃ¼gen</button>
            </div>
            <div class="price-row">
                <label for="orderPrice">Gesamtpreis (â‚¬):</label>
                <input type="number" id="orderPrice" placeholder="0.00" min="0" step="0.01" />
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn-gray" onclick="closeOrderModal()">Abbrechen</button>
            <button class="btn-green" onclick="submitOrder()">Bestellung senden</button>
        </div>
    </div>
</div>

<!-- Modal fÃ¼r Bestellungen anzeigen -->
<div id="viewOrdersModal" class="modal-overlay" style="display:none;">
    <div class="modal">
        <div class="modal-header">
            <h3 id="viewOrdersTitle">Bestellungen</h3>
            <button class="modal-close" onclick="closeViewOrdersModal()">&times;</button>
        </div>
        <div class="modal-body" id="viewOrdersContent"></div>
        <div class="modal-footer">
            <button class="btn-gray" onclick="closeViewOrdersModal()">SchlieÃŸen</button>
        </div>
    </div>
</div>

<!-- Modal fÃ¼r Bezahlung -->
<div id="paymentModal" class="modal-overlay" style="display:none;">
    <div class="modal" style="max-width: 400px;">
        <div class="modal-header" style="background: #4CAF50; color: white;">
            <h3>ðŸ’³ Bezahlung</h3>
        </div>
        <div class="modal-body" style="text-align: center; padding: 30px;">
            <div style="font-size: 48px; margin-bottom: 20px;">âœ“</div>
            <h2 style="color: #4CAF50; margin-bottom: 15px;">Bezahlung erfolgreich!</h2>
            <p id="paymentTableInfo" style="font-size: 16px; color: #666; margin-bottom: 20px;"></p>
            <p style="font-size: 14px; color: #999;">ðŸ§¹ Tisch ist bereit zum Abservieren</p>
        </div>
        <div class="modal-footer">
            <button class="btn-green" onclick="closePaymentModal()" style="width: 100%;">OK</button>
        </div>
    </div>
</div>

<!-- Modal fÃ¼r Tisch abserviert -->
<div id="cleanedModal" class="modal-overlay" style="display:none;">
    <div class="modal" style="max-width: 400px;">
        <div class="modal-header" style="background: #2196F3; color: white;">
            <h3>âœ¨ Tisch bereit</h3>
        </div>
        <div class="modal-body" style="text-align: center; padding: 30px;">
            <div style="font-size: 48px; margin-bottom: 20px;">âœ“</div>
            <h2 style="color: #2196F3; margin-bottom: 15px;">Tisch abserviert!</h2>
            <p id="cleanedTableInfo" style="font-size: 16px; color: #666; margin-bottom: 20px;"></p>
            <p style="font-size: 14px; color: #999;">âœ… Tisch ist jetzt frei fÃ¼r neue GÃ¤ste</p>
        </div>
        <div class="modal-footer">
            <button class="btn-blue" onclick="closeCleanedModal()" style="width: 100%;">OK</button>
        </div>
    </div>
</div>

<!-- Verweis auf das ausgelagerte JavaScript -->
<script src="waiter.js?v=2" defer></script>
</body>
</html>
